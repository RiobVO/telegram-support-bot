# Internal Support Telegram Bot

Внутренний Telegram-бот для обработки обращений сотрудников компании.  
Используется как единая точка приёма жалоб и заявок от 4500+ сотрудников.

## Основной функционал

- Многошаговая FSM-форма оформления заявки
- Поддержка трёх языков: RU / UZ / EN
- Валидация ФИО и телефона
- Выбор категории обращения
- Загрузка вложений (фото, видео, документы, голосовые) до 10 штук
- Формирование карточки обращения с уникальным ID (`DEV-2025-000001`)
- Отправка карточки в служебный чат поддержки (`SUPPORT_CHAT_ID`)
- Интеграция с Bitrix24:
  - создание/обновление задач через Webhook API
  - экспорт статистики и выгрузка в CSV
- Админ-панель для просмотра и экспорта заявок

## Стек

- Python 3.10+
- [aiogram](https://docs.aiogram.dev) (Telegram Bot API)
- Bitrix24 Webhook API
- `python-dotenv` для конфигурации
- FSM (Finite State Machine) для форм заявок

## Архитектура проекта

```text
app/
  bot_core.py       # инициализация бота, dp, router
  config.py         # загрузка настроек из .env.dev / .env
  handlers_user.py  # сценарии пользователя (FSM формы)
  handlers_admin.py # админские команды и экспорт
  keyboards.py      # клавиатуры
  localization.py   # тексты и языки (RU/UZ/EN)
  states.py         # состояния FSM
  helpers.py        # валидация, генерация ID, форматирование карточек
  bitrix_api.py     # интеграция с Bitrix24
  main.py           # точка входа
